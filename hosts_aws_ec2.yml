# Dynamic Amazon Web Services inventory
#
# The basic stratgy of this inventory file is to use the AWS tag 'Environment'
# to determine the group the EC2 host belongs to.
#
plugin: aws_ec2
boto_profile: default
keyed_groups:
  # Add groups for each Environment tag value (staging, production, etc)
  - key: tags.Environment
    prefix: ""
    separator: ""
    
# Inject host variables based on EC2 instance tags and attributes
compose:
  ec2_environment: tags.Environment
  ec2_region: placement_region
  ec2_role: tags.Role
  is_ec2_environment: true
